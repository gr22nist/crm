{% extends "base.html" %}
{% from "list.html" import render_list %}
{% from "user/user_item.html" import user_item %}
{% from "paginate.html" import render_pagination %}
{% block title %}USER PAGE{% endblock %}


{% block content %}
<section class="search">
    <form action="{{ url_for('user.get_user') }}" method="GET">
        <label for="name">이름</label>
        <input type="text" name="name" id="name" value="{{ request.args.get('name', '') }}">
        
        <label for="gender">성별</label>
        <select name="gender" id="gender">
            <option value="" {% if request.args.get('gender', '') == '' %}selected{% endif %}></option>
            <option value="여성" {% if request.args.get('gender', '') == '여성' %}selected{% endif %}>여성</option>
            <option value="남성" {% if request.args.get('gender', '') == '남성' %}selected{% endif %}>남성</option>
        </select>

        <label for="age">나이</label>
        <input type="number" name="age" id="age" value="{{ request.args.get('age', '') }}">
        
        <button type="submit">검색</button>
    </form>
</section>

{% if no_results %}
<section>
    <p>검색 결과가 없습니다.</p>
</section>
{% endif %}

{% set headers = ["이름", "성별", "나이", "생년월일"] %}
{{ render_list(headers, result, user_item) }}

{% set params = {'name': request.args.get('name'), 'gender': request.args.get('gender'), 'age': request.args.get('age')} %}
{{ render_pagination('user.get_user', page, total_pages, params) }}

{% endblock %}
